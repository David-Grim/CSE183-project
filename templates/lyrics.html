[[extend 'layout.html']]

<style>
[v-cloak] {
     display: none;
}
.spacer30 {
  margin: 600px 0;
}
#go {
  float: right;
  width: 50px;
}
#searchItem {
  float: left;
  width: 200px;

}
.input-group {
  width: 260px;
}
</style>


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name = "viewport" content="width=device-width, initial-scale=1.0">
    <link rel = "stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
</head>
<body style="background-color: white">
<section class="hero is full has-text-black">
  <div class="hero-body">
    <p class="title has-text-black">
      Search for music lyrics, or browse our catalog of bands.
    </p>
      <p>
          If we don't have the music you're looking for you can always upload the lyrics yourself, or find a new song to explore!
          Our catalog grows everyday with help from users like you.
      </p>
  </div>
</section>

<div class="section" id="vue-target" v-cloak>
  <div class="control block">
    <input class="input has-text-black" type="text" v-model="query" @keyup="search" placeholder="Search for songs, bands, or albums" />
  </div>

  <div>
    <div class="content">
    <div v-for="r in results">
      <a class="has-text-black" v-bind:href="r.url">{{r.name}}</a>
    </div>
    </div>
  </div>
  
</div>


<div class = "title has-text-black">Catalog of Bands </div>
<a class="button is-primary" href= "[[=URL('add_band')]]">Add New Band</a>
</br>
</br>


<table>

    [[for band in bands:]]

    <tr>
        <td class = "is-size-5 has-text-black"><a href="[[=URL('band', band.name)]]">[[=band.name]]</a></td>
    </tr>
    [[pass]]
    
</table>
</body>


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let search_url = "[[=XML(search_url)]]";
</script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
<script src="js/search.js"></script>
[[end]]
