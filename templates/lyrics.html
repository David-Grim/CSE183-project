[[extend 'layout.html']]

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name = "viewport" content="width=device-width, initial-scale=1.0">
    <link rel = "stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
</head>
<body style="background-color: white">
<section class="hero is-dark is full">
  <div class="hero-body">
    <p class="title">
      Search for music lyrics.
    </p>
      <p>
          You should be able to search for bands/albums/songs here, or better yet in the header from any page.
          But until then I'm putting a table with all the bands in the DB here for testing purposes.
      </p>
  </div>
</section>

<div class="section" id="vue-target" v-cloak>
  <div class="control block">
    <input class="input" type="text" v-model="query" @keyup="search" />
  </div>
  <div v-for="r in results">{{r}}</div>
</div>

<table>
    <tr>
        <th>Bands</th>
    </tr>
    [[for band in bands:]]
    <tr>
        <td><a href="[[=URL('band', band.name)]]">[[=band.name]]</a></td>
    </tr>
    [[pass]]
    
</table>
<a class="button is-primary" href="[[=URL('add_band')]]">Add Band</a>
</body>

[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let search_url = "[[=XML(search_url)]]";
</script>
<!--<script src="js/search.js"></script>-->
[[end]]
