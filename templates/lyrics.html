[[extend 'layout.html']]

<style>
[v-cloak] {
     display: none;
}
.spacer30 {
  margin: 600px 0;
}
#go {
  float: right;
  width: 50px;
}
#searchItem {
  float: left;
  width: 200px;

}
.input-group {
  width: 260px;
}
</style>


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name = "viewport" content="width=device-width, initial-scale=1.0">
    <link rel = "stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
</head>
<body style="background-color: white">
<section class="hero is-dark is full">
  <div class="hero-body">
    <p class="title">
      Search for music lyrics.
    </p>
      <p>
          You should be able to search for bands/albums/songs here, or better yet in the header from any page.
          But until then I'm putting a table with all the bands in the DB here for testing purposes.
      </p>
  </div>
</section>

<div class="section" id="vue-target" v-cloak>
  <div class="control block">
    <input class="input" type="text" v-model="query" @keyup="search" />
  </div>

  <div>
    <div class="content has-background-white">
    <div v-for="r in results">
      <a class="has-text-black" v-bind:href="r.url">{{r.name}}</a>
    </div>
    </div>
  </div>
  
</div>



<table>
    <tr>
        <th>Bands</th>
    </tr>
    [[for band in bands:]]
    <tr>
        <td><a href="[[=URL('band', band.name)]]">[[=band.name]]</a></td>
    </tr>
    [[pass]]
    
</table>
<a class="button is-primary" href="[[=URL('add_band')]]">Add Band</a>
</body>


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let search_url = "[[=XML(search_url)]]";
</script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
<script src="js/search.js"></script>
[[end]]
